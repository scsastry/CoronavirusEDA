---
title: "Coronavirus EDA"
author: "Savita Sastry"
date: "3/4/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Libraries
```{r}

# install.packages("tidyverse")
# install.packages("naniar")
# install.packages("skimr")
# install.packages("visdat")
# install.packages("devtools")
# install.packages("rgeos")
# install.packages("rgdal")
# devtools::install_github("dkahle/ggmap")
# install.packages("shiny")
#install.packages("httpuv")
# install.packages("DT")
# install.packages("rpivotTable")
# install.packages("plotly")
# install.packages("openintro")
# install.packages("highcharacter")
# devtools::install_github("rstudio/httpuv")
# devtools::install_github("yihui/mime")
# devtools::install_github("rstudio/shiny")
library(flexdashboard)
library(knitr)
library(shiny)
library(shinydashboard)
library(devtools)
library(visdat)
library(tidyverse)
library(naniar)
library(skimr)
library(ggmap)
library(rgeos)
library(rgdal)
library(DT)
library(rpivotTable)
library(ggplot2)
library(plotly)
library(openintro)
library(plyr)
```


##Data
**Database of Coronavirus cases by geographical and bodily locaiton of isolation.**  
Reference: Dong E, Du H, Gardner L. An interactive web-based dashboard to track COVID-19 in real time. Lancet Infect Dis; published online Feb 19. https://doi.org/10.1016/S1473-3099(20)30120-1.  
Data: https://www.kaggle.com/brendaso/2019-coronavirus-dataset-01212020-01262020

Currently displays: 1877 observations
```{r}
CoV_kaggle <- readr::read_csv("data/2019_nCoV_20200121_20200206.csv")
CoV_kaggle 
```

```{r}
CoV_kaggle$`Last Update` <- as.Date(CoV_kaggle$`Last Update`, format = "%m/%d/%y")
```

```{r}
CoV_kaggle
```

```{r}
China_tracker <- CoV_kaggle %>% 
  select(`Province/State`, `Country/Region`, Confirmed, Recovered, Death, `Last Update`) %>%
  filter(`Country/Region` == "Mainland China") %>%
  group_by(`Province/State`) %>%
  summarise(Confirmed = sum(Confirmed, na.rm = TRUE),
            Recovered = sum(Recovered, na.rm = TRUE), 
            Death = sum(Death, na.rm = TRUE)) %>%
  arrange(desc(`Province/State`))
China_tracker
```


```{r}
(unique(CoV_kaggle$`Province/State`))
```

Visualize Confirmed Cases by Country

```{r}
head(China_tracker,10) %>% 
  ggplot(aes(x = `Province/State`, y = Confirmed, fill = `Province/State`)) +
  geom_bar(position = "dodge", color = "black", stat = "Identity") +
  xlab("Country")  +
  ylab("Population Growth") +
  labs(title = "Population Growth of Top 5 Countries Since 1952") +
  coord_flip()
  
```


```{r}
unique(CoV_kaggle$`Province/State`, na.rm = TRUE)
```

```{r}
unique(CoV_kaggle$`Country/Region`)
```

```{r}
CoV_kaggle[order(CoV_kaggle$`Last Update`),]

```

**Database of Coronavirus cases by geographical and bodily locaiton of isolation.**  
Reference: Dong E, Du H, Gardner L. An interactive web-based dashboard to track COVID-19 in real time. Lancet Infect Dis; published online Feb 19. https://doi.org/10.1016/S1473-3099(20)30120-1. 
Data: https://www.ncbi.nlm.nih.gov/labs/virus/vssi/#/virus?SeqType_s=Nucleotide&Region_s=Asia&Region_s=Europe&Region_s=North%20America&VirusLineage_ss=Wuhan%20seafood%20market%20pneumonia%20virus,%20taxid:2697049

```{r}
readr::read_csv("data/corona_protein.txt")

```

```{r}
Genbank_CoV <- readr::read_csv("data/SARS-CoV-2_Genbank.csv")
Genbank_CoV
```

```{r}
ui <- dashboardPage(
  dashboardHeader(title = "Navigation Pane"),
  dashboardSidebar(
    sidebarMenu(
      menuItem("Overview", tabName = "Overview"),
      menuItem("Map", tabName = "Geographical Coverage")
    )
  ),
  dashboardBody(
    tabItems(
      tabItem(tabName = "Overview",
        h2("Summary of Coronavirus Pandemic")
      ),
      tabItem(tabName = "Geographical Coverage",
              h2("Geographical Spread of Coronavirus")
            )
          )
        )
      )


server <- function(input, output){ }

shinyApp(ui, server)
```

